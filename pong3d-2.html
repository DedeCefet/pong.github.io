<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>PONG</title>
  <meta name="description" content="PONG">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
</head>

<body>
  <script type="text/javascript">
    AFRAME.registerComponent('mover-players', {
      schema: { speed: { default: 1 } },
      init: function () {
        this.ifMouseDown = false;
        this.ifMouseUp = false;
        this.x_cord = 0;
        this.y_cord = 0;
        document.addEventListener('mousedown', this.OnDocumentMouseDown.bind(this));
        document.addEventListener('mouseup', this.OnDocumentMouseUp.bind(this));
        document.addEventListener('mousemove', this.OnDocumentMouseMove.bind(this));
      },
      OnDocumentMouseDown: function (event) {
        this.ifMouseDown = true;
        this.x_cord = event.clientX;
        this.y_cord = event.clientY;
      },
      OnDocumentMouseUp: function () {
        this.ifMouseDown = false;
      },
      OnDocumentMouseMove: function (event) {
        if (this.ifMouseDown) {
          var temp_x = event.clientX - this.x_cord;
          var temp_y = event.clientY - this.y_cord;
          this.el.object3D.translateY(temp_x * this.data.speed / 3000);
          this.y_cord = event.clientY;
        }
        if (this.ifMouseUp) {
          var temp_x = event.clientX + this.x_cord;
          var temp_y = event.clientY + this.y_cord;
          this.el.object3D.translateY(temp_x * this.data.speed / 3000);
          this.y_cord = event.clientY;
        }
      }
    });
  </script>
  <a-scene>
    <a-box id="linha" width="0.1" height="38 " depth="0.1" position="0  5.95 -27" rotation="-90 0 0" color="#FFFFFF">
    </a-box>

    <a-plane position="0 4 -30" rotation="-90 0 0" width="80 " height="40  " color="#008000">
    </a-plane>

    <a-box id="play1" width="1.3" height="6.2" depth="2" position="-39.4 5 -30" rotation="-90 0 0" color="#4CC3D9"
    animation="position from -20 0 0 to 20 0 0" mover-players>
    </a-box>
    <a-box id="play2" width="1.2" height="6.2" depth="1.8" position="39.4 5 -30" rotation="-90 0 0" color="#FF0000" 
    animation="position from -20 0 0 to 20 0 0" mover-players></a-box>
    </a-box>

    <a-sphere id="ball" position="0 5 -30" animation="property: position;to: 20 0 0;loop: true; dur: 2800"
      radius="1.25" color="#DCDCDC">
    </a-sphere>




    <a-camera position="0 30 34" look-controls="enabled:false">
      <a-cursor></a-cursor>
    </a-camera>
    <a-assets>

      <a-asset-item id="crate-obj" src="models/aztec-temple.obj"></a-asset-item>
      <a-asset-item id="crate-mtl" src="models/aztec-temple.mtl"></a-asset-item>

    </a-assets>
    <a-obj-model src="#crate-obj" mtl="#crate-mtl"></a-obj-model>
    <a-sky id="sky" color="#00ced1"></a-sky>

  </a-scene>


</body>

</html>